Perfect ğŸ‘
Below is a **curated Top 30 MySQL 5.7 commands & SQL queries every DevOps engineer MUST know**, especially for **masterâ€“read replica, backups, Docker, and production ops**.

Iâ€™ve grouped them so theyâ€™re **easy to memorize for interviews** and **useful on-call**.

---

## ğŸ”° 1. Connection & Server Health (1â€“5)

### 1ï¸âƒ£ Connect locally

```bash
mysql -u root -p
```

### 2ï¸âƒ£ Connect to remote MySQL

```bash
mysql -h 10.0.0.10 -P 3306 -u dbuser -p
```

### 3ï¸âƒ£ Check MySQL version

```sql
SELECT VERSION();
```

### 4ï¸âƒ£ Check server uptime

```sql
SHOW STATUS LIKE 'Uptime';
```

### 5ï¸âƒ£ Check active connections

```sql
SHOW STATUS LIKE 'Threads_connected';
```

---

## ğŸ—„ï¸ 2. Database & Storage Info (6â€“10)

### 6ï¸âƒ£ List databases

```sql
SHOW DATABASES;
```

### 7ï¸âƒ£ Use database

```sql
USE mydb;
```

### 8ï¸âƒ£ List tables

```sql
SHOW TABLES;
```

### 9ï¸âƒ£ Check DB size (VERY COMMON)

```sql
SELECT
  table_schema AS db,
  ROUND(SUM(data_length + index_length)/1024/1024, 2) AS size_mb
FROM information_schema.tables
GROUP BY table_schema;
```

### ğŸ”Ÿ MySQL data directory

```sql
SHOW VARIABLES LIKE 'datadir';
```

---

## ğŸ‘¤ 3. Users & Security (11â€“15)

### 1ï¸âƒ£1ï¸âƒ£ List MySQL users

```sql
SELECT user, host FROM mysql.user;
```

### 1ï¸âƒ£2ï¸âƒ£ Check user privileges

```sql
SHOW GRANTS FOR 'dbuser'@'%';
```

### 1ï¸âƒ£3ï¸âƒ£ Create read-only user (replica)

```sql
CREATE USER 'readonly'@'%' IDENTIFIED BY 'password';
GRANT SELECT ON mydb.* TO 'readonly'@'%';
```

### 1ï¸âƒ£4ï¸âƒ£ Backup user (best practice)

```sql
CREATE USER 'backup_user'@'%' IDENTIFIED BY 'password';
GRANT SELECT, LOCK TABLES, PROCESS, RELOAD ON *.* TO 'backup_user'@'%';
```

### 1ï¸âƒ£5ï¸âƒ£ Check authentication plugin

```sql
SELECT user, plugin FROM mysql.user;
```

---

## ğŸ”„ 4. Replication (MASTERâ€“REPLICA) (16â€“20)

![Image](https://code.openark.org/blog/wp-content/uploads/2014/03/slave_status_explained_uptodate.png)

![Image](https://www.opsdash.com/static/images/mysql_replication_master.png)

![Image](https://www.sqlshack.com/wp-content/uploads/2021/03/output-of-mysqlbinlog-1.png)

### 1ï¸âƒ£6ï¸âƒ£ Check replica status (MOST IMPORTANT)

```sql
SHOW SLAVE STATUS\G;
```

Look for:

```text
Slave_IO_Running: Yes
Slave_SQL_Running: Yes
Seconds_Behind_Master: 0
```

### 1ï¸âƒ£7ï¸âƒ£ Check master binlog

```sql
SHOW MASTER STATUS;
```

### 1ï¸âƒ£8ï¸âƒ£ Start replication

```sql
START SLAVE;
```

### 1ï¸âƒ£9ï¸âƒ£ Stop replication

```sql
STOP SLAVE;
```

### 2ï¸âƒ£0ï¸âƒ£ Read-only mode (replica safety)

```sql
SHOW VARIABLES LIKE 'read_only';
```

---

## ğŸ’¾ 5. Backup & Restore (21â€“25) ğŸš¨

### 2ï¸âƒ£1ï¸âƒ£ Backup single database

```bash
mysqldump -u root -p mydb > mydb.sql
```

### 2ï¸âƒ£2ï¸âƒ£ Backup all databases

```bash
mysqldump -u root -p --all-databases > alldb.sql
```

### 2ï¸âƒ£3ï¸âƒ£ Safe backup from replica (PROD)

```bash
mysqldump -u backup_user -p \
--single-transaction \
--set-gtid-purged=OFF \
mydb > mydb.sql
```

### 2ï¸âƒ£4ï¸âƒ£ Restore database

```bash
mysql -u root -p mydb < mydb.sql
```

### 2ï¸âƒ£5ï¸âƒ£ Backup from Docker MySQL

```bash
docker exec mysql-container mysqldump -u root -p mydb > mydb.sql
```

---

## ğŸ“Š 6. Performance & Troubleshooting (26â€“30)

### 2ï¸âƒ£6ï¸âƒ£ Running queries

```sql
SHOW FULL PROCESSLIST;
```

### 2ï¸âƒ£7ï¸âƒ£ Kill a query (emergency)

```sql
KILL 123;
```

### 2ï¸âƒ£8ï¸âƒ£ Check slow query log

```sql
SHOW VARIABLES LIKE 'slow_query_log';
```

### 2ï¸âƒ£9ï¸âƒ£ Check max connections

```sql
SHOW VARIABLES LIKE 'max_connections';
```

### 3ï¸âƒ£0ï¸âƒ£ Disk usage per table

```sql
SELECT
  table_name,
  ROUND((data_length + index_length)/1024/1024, 2) AS size_mb
FROM information_schema.tables
WHERE table_schema = 'mydb'
ORDER BY size_mb DESC;
```

---

## ğŸ¯ How to Use This for Interviews

Memorize **bold commands**:

- `SHOW SLAVE STATUS\G`
- `mysqldump --single-transaction`
- `SHOW MASTER STATUS`
- `SHOW FULL PROCESSLIST`

Interview killer line:

> â€œWe always take backups from read replicas using `mysqldump --single-transaction` and monitor replication lag.â€

---

## ğŸš€ Want More?

I can give you:

- **Top 20 MySQL interview questions (DevOps only)**
- **Replica failover drills**
- **MySQL monitoring with Prometheus**
- **RDS MySQL vs EC2 MySQL commands**
- **Production MySQL runbook**

Just tell me whatâ€™s next ğŸ”¥
